CREATE __ POST __ MAKE NEW
RETRIEVE __ GET __ LIST/ SEARCH
UPDATE __ PUT/PATCH __ EDIT 
DELETE __ DELETE __ DLEETE



Pour activer l'env env\Scripts\activate üéµüé®üòÇ‚ù§üî† 



https://bootsnipp.com/snippets/kM0M dynamic form field üé∂
https://ccbv.co.uk/projects/Django/3.0/django.views.generic.edit/DeleteView/  





def ajouter_Note(request, pk):
    form = NoteForm(request.POST or None)
    if request.method == "POST":
        user = User.objects.get(username=request.user)
        articl = ArticlPub.objects.get(pk=pk)
        note = Note.objects.get_or_create(user=user,articl=articl)
        note = Note.objects.filter(user=user,articl=articl)
        
        if form.is_valid():
            user_note = Note.objects.get(user=user, articl=articl)
            user_note.note = request.POST["note"]
            user_note.save()
            print('note ajouter')
            return redirect('articl:listArticl')
    else:
        user_note = Note(articl=articl, user=user, note=request.POST["note"])
        user_note.save()
        
    return render(request, 'ListArticl.html', {"form": form})



def ajouter_Note(request, pk):

    articl = ArticlPub.objects.get(pk=pk)
    if request.method == "POST":
        form = NoteForm(request.POST or None)
        if form.is_valid():
            data = form.save(commit=False)
            data.note=request.POST["note"]
            data.user=request.user
            data.articl=articl
            data.save()
            print('note ajouter')
            return redirect('articl:listArticl')
    else:
        form = NoteForm()
    return render(request, 'ListArticl.html', {"form": form})

def ajouter_Note(request, id):
    try:
        user = User.objects.get(id=request.user)
        articl = ArticlPub.objects.get(id=request.POST["articl"])
        note=Note.objects.filter(user=request.user,articl=pk)
    except expression as identifier:
        pass
    note = Note.objects.get_or_create(user=request.user,articl=pk)
    if note.note == 0 :
        if request.method == "POST":
                data.note=request.POST["note"]
                data.user=request.user
                data.articl=articl
                data.save()
                print('note ajouter')
                return redirect('articl:listArticl')
    else:
        note.note=request.POST["note"]
        note.save()
        print('note ajouter')

    return redirect('articl:listArticl')

def add_favorite(request,pk):
    new_favorite=ArticlPub.objects.get(pk=pk)
    Favorite.add_favorite(request.user, new_favorite) 
    return redirect('ListArticl.html')






    {% load static %}
<!doctype html>
<html lang="en">
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no, initial-scale=1, shrink-to-fit=no maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Title</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">
    <!--Ion Icons-->
    <link href="https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css" rel="stylesheet">
    <!--Google Fonts-->
    <link href="https://fonts.googleapis.com/css?family=Nunito&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Aldrich&display=swap" rel="stylesheet">
    <!--Our own stylesheet-->
    <link rel="stylesheet" type="text/css" href="{% static 'css/styles.css' %}"  >
  </head>
  <body>
    
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>
    <script type="text/javascript" src="scripts.js"></script>

    <header>
      <div class="container">
        <nav class="navbar navbar-expand-lg navbar-light bg-light mb-4"  style="background-color:salmon">
          <div class="container">
           {% if user.is_authenticated %}
             <a class="navbar-brand" href="{%  url 'home:home'  %}">My site</a>
             <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
               <span class="navbar-toggler-icon"></span>
             </button>
           
             <div class="collapse navbar-collapse" id="navbarSupportedContent">
               <ul class="navbar-nav mr-auto">
                
                   
                 
                   <li class="nav-item">
                     <a class="nav-link" href="{%  url 'home:home'  %}">Home</a>
                   </li>
                   <li class="nav-item">
                     <a class="nav-link" href="{%  url 'accounts:profile' %}">Profile</a>
                   </li>
                   
   
                 {% endif %}
   
               </ul>
               {% if user.is_authenticated %}
   
                   <ul class="navbar-nav ">
                      
                     <li class="nav-item dropdown">
                       <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                         {{user.username}}
                       </a>
                       <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown">
                         <a class="dropdown-item" href="{%  url 'accounts:profile'  %}"> Profile </a>
                         <a class="dropdown-item" href="{%  url 'accounts:edit_profile'  %}"> Edit Profile </a>
                         <div class="dropdown-divider"></div>
                         <a class="dropdown-item" href="{%  url 'password_change'  %}">Change password</a>
                         <a class="dropdown-item" href="{%  url 'logout'  %}">Log out</a>
                         
                       </div>
                     </li>
                     
                   </ul>
               {% else %}
                 <form class="form-inline my-2 my-lg-0">
                   <a href="{%  url 'login'  %}" class="btn btn-outline-secondary" > Log in </a>
                   <a href="{%  url 'register'  %}" class="btn btn-primary ml-2" style="background-color:  #4CAF50;border: none;"> Registration </a> 
               {% endif %}     
                 </form>
   
             </div>
         </div>
       </nav>
      </div>

    </header>
   
    <style type="text/css">
      .asteriskField {
        display: none;
      }
    </style>
        
    

    <div class="container">
        <h1>My site</h1>
        
        
        {% if user.is_authenticated %}
          <a href="{%  url 'home:home'  %}"> Home //</a>
            <a href="{%  url 'articl:postarticl'  %}"> Add an articl //</a>
            <a href="{%  url 'articl:listArticl'  %}"> List of articls //</a>
            <a href="{%  url 'articl:favourite_list'  %}"> Favourite list//</a>
            <a href="{%  url 'password_change'  %}"> Change password //</a>
            <a href="{%  url 'logout'  %}"> Log out// </a>
            <strong>  You are logged in as {{user.first_name}} {{user.last_name}} </strong>
        {% else %} 
            <a href="{%  url 'register'  %}"> Registration </a> 
            <a href="{%  url 'login'  %}"> Log in </a>
        {% endif %}    
        <hr>
        {% block content %}

        {% endblock %}
     </div>
  </body>
</html>